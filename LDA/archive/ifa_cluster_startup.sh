aws emr create-cluster --termination-protected --applications Name=Hadoop Name=Hive Name=Ganglia Name=Tez Name=Spark --ec2-attributes '{"KeyName":"BlakeKey","InstanceProfile":"EMR_EC2_DefaultRole","SubnetId":"subnet-1130d049","EmrManagedSlaveSecurityGroup":"sg-7a5cfc03","EmrManagedMasterSecurityGroup":"sg-7b5cfc02"}' --service-role EMR_DefaultRole --release-label emr-5.0.0 --name 'Spark LDA Tagging' --instance-groups '[{"InstanceCount":1,"BidPrice":"0.4","InstanceGroupType":"CORE","InstanceType":"r3.4xlarge","Name":"Core"},{"InstanceCount":2,"BidPrice":"0.4","InstanceGroupType":"TASK","InstanceType":"r3.4xlarge","Name":"Task"},{"InstanceCount":1,"InstanceGroupType":"MASTER","InstanceType":"r3.xlarge","Name":"Master"}]' --configurations '[{"Classification":"spark-defaults","Properties":{"spark.executor.memory":"35G","spark.driver.memory":"15G","spark.kryoserializer.buffer.max":"512","spark.driver.cores":"3","spark.driver.maxResultSize":"5G","spark.default.parallelism":"500","spark.serializer":"org.apache.spark.serializer.KryoSerializer","spark.dynamicAllocation.minExecutors":"5","spark.executor.cores":"5","spark.dynamicAllocation.maxExecutors":"25","spark.dynamicAllocation.enabled":"true"},"Configurations":[]}]' --region us-west-2